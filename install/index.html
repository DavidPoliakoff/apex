<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started - APEX</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../custom.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> APEX</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../feature/">Feature Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Getting Started</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#downloading-apex">Downloading APEX</a></li>
                
            
                <li class="toctree-l3"><a href="#installation-option-1-configuring-and-building-apex-with-bootstrap-scripts">Installation Option 1: Configuring and building APEX with bootstrap scripts</a></li>
                
            
                <li class="toctree-l3"><a href="#installation-option-2-configuring-and-building-apex-with-cmake-directly-recommended-for-most-users">Installation Option 2: Configuring and building APEX with CMake directly (recommended for most users)</a></li>
                
            
                <li class="toctree-l3"><a href="#other-cmake-settings-depending-on-your-needswants">Other CMake settings, depending on your needs/wants</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../usage/">Usage</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../usecases/">Use Cases</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../environment/">Useful Environment Variables</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Research Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../spec/">API Specification</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../refman/">API Doxygen Reference</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">APEX</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="http://github.com/khuck/xpress-apex" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="downloading-apex">Downloading APEX</h1>
<p>APEX is open source, and available on Github at <a href="../http//github.com/khuck/xpress-apex">http//github.com/khuck/xpress-apex</a>.</p>
<p>For stability, most users will want to download the most recent release of APEX (for example, v0.1):</p>
<pre><code class="bash">wget https://github.com/khuck/xpress-apex/archive/v0.1.tar.gz
tar -xvzf v0.1.tar.gz
cd xpress-apex-0.1
</code></pre>

<p>Other users may want to work with the most recent code available, in which case you can clone the git repo:</p>
<pre><code class="bash">git clone https://github.com/khuck/xpress-apex.git
cd xpress-apex
</code></pre>

<h1 id="installation-option-1-configuring-and-building-apex-with-bootstrap-scripts">Installation Option 1: Configuring and building APEX with bootstrap scripts</h1>
<p>This option is useful for HPC resources where a configuration script already exists, such as Edison@NERSC, Cori@NERSC, Babbage@NERSC, etc.  To use this option, copy and modify ./bootstrap-configs/bootstrap-$arch.sh as necessary, and run it.</p>
<h1 id="installation-option-2-configuring-and-building-apex-with-cmake-directly-recommended-for-most-users">Installation Option 2: Configuring and building APEX with CMake directly (recommended for most users)</h1>
<p>APEX is built with CMake. The minimum CMake settings needed for APEX are:</p>
<ul>
<li>-DBOOST_ROOT= the path to a Boost installation, 1.54 or newer</li>
<li>-DCMAKE_INSTALL_PREFIX= some path to an installation location</li>
<li>-DCMAKE_BUILD_TYPE= one of Release, Debug, or RelWithDebInfo (recommended)</li>
</ul>
<p><strong>Note:</strong> <em>If the BOOST_ROOT environment variable is set to a working Boost installation directory, CMake will find it automatically. If Boost is not installed locally, use the -DBUILD_BOOST=TRUE option, which will automatically download and build Boost as a subproject of APEX.</em></p>
<p>The process for building APEX is:</p>
<p>1) Get the code (see above)</p>
<p>2) Enter the repo directory, make a build directory:</p>
<pre><code class="bash">cd xpress-apex-0.1
mkdir build
cd build
</code></pre>

<p>3) configure using CMake:</p>
<pre><code class="bash">cmake -DBOOST_ROOT=&lt;path-to-boost&gt; -DCMAKE_INSTALL_PREFIX=&lt;installation-path&gt; -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
</code></pre>

<p>4) build with make:</p>
<pre><code class="bash">make
make test
make doc
make install
</code></pre>

<h1 id="other-cmake-settings-depending-on-your-needswants">Other CMake settings, depending on your needs/wants</h1>
<p><strong>Note 1:</strong> <em>The <strong>recommended</strong> packages include:</em></p>
<ul>
<li><strong>Active Harmony</strong> - for autotuning policies</li>
<li><strong>OMPT</strong> - if OpenMP support is required (<a href="../usecases/#openmp-example">See the OpenMP use case</a> for an example)</li>
<li><strong>Binutils/BFD</strong> - if your runtime/application uses instruction addresses to identify timers, e.g. HPX-5 and OpenMP</li>
<li><strong>TAU</strong> <em>or</em> <strong>PAPI</strong> - if you want post-mortem performance analysis (<a href="../usecases/#with-tau">See the TAU use case</a> for an example) or your policies will require hardware counters (<a href="../usecases/#with-papi">See the PAPI use case</a> for an example)</li>
<li><strong>JEMalloc/TCMalloc</strong> - if your application is not already using a heap manager - see Note 2, below</li>
</ul>
<p><strong>Note 2:</strong> <em>TCMalloc or JEMalloc will speed up memory allocations </em>significantly<em> in APEX. HOWEVER, If your application already uses TCMalloc or JEMalloc, <strong>DO NOT</strong> configure APEX with TCMalloc or JEMalloc. They will be included at application link time, and may conflict with the version detected by and linked into APEX.</em></p>
<p>There are several utility libraries that provide additional functionality in APEX. Not all libraries are required, but some are recommended.  For the following options, the default values are in <em>italics</em>.</p>
<ul>
<li><strong>-DBUILD_BOOST=</strong>
  TRUE or <em>FALSE</em>.  In the event that Boost isn't pre-installed on your system, this option forces CMake to download and build Boost as part of the APEX project.</li>
<li><strong>-DUSE_ACTIVEHARMONY=</strong>
  <em>TRUE</em> or FALSE.  Active Harmony is a library that intelligently searches for parametric combinations to support adapting to heterogeneous and changing environments.  For more information, see <a href="http://www.dyninst.org/harmony">http://www.dyninst.org/harmony</a>.  APEX uses Active Harmony for runtime adaptation.</li>
<li><strong>-DACTIVEHARMONY_ROOT=</strong>
  the path to Active Harmony, or set the ACTIVEHARMONY_ROOT environment variable before running cmake.  It should be noted that if Active Harmony is not specified and -DUSE_ACTIVEHARMONY is TRUE or not set, APEX will download and build Active Harmony as a CMake project. To disable Active Harmony entirely, specify -DUSE_ACTIVEHARMONY=FALSE.</li>
<li><strong>-DBUILD_ACTIVEHARMONY=</strong>
  TRUE or <em>FALSE</em>.  Whether or not Active Harmony is installed on the system, this option forces CMake to automatically download and build Active Harmony as part of the APEX project.</li>
<li><strong>-DUSE_OMPT=</strong>
  TRUE or <em>FALSE</em>.  OMPT is a proposed standard for OpenMP runtimes to provide callback hooks to performance tools. For more information, see <a href="http://openmp.org/mp-documents/ompt-tr2.pdf">http://openmp.org/mp-documents/ompt-tr2.pdf</a>.  APEX has support for most OMPT OpenMP trace events. See <a href="../usecases/#openmp-example">the OpenMP use case</a> for an example.</li>
<li><strong>-DOMPT_ROOT=</strong>
  the path to OMPT, or set the OMPT_ROOT environment variable before running cmake.</li>
<li><strong>-DBUILD_OMPT=</strong>
  TRUE or <em>FALSE</em>. Whether or not an OpenMP library with OMPT support is found by CMake, this option forces CMake to automatically download and build an OpenMP runtime with OMPT support as part of the APEX project.</li>
<li><strong>-DUSE_BFD=</strong>
  TRUE or <em>FALSE</em>.  APEX uses libbfd to convert instruction addresses to source code locations. BFD support is useful for generating human-readable output for summaries and concurrency graphs. Libbfd is not required for runtime adaptation.</li>
<li><strong>-DBFD_ROOT=</strong>
  path to Binutils, or set the BFD_ROOT environment variable.</li>
<li><strong>-DBUILD_BFD=</strong>
  TRUE or FALSE.  Whether or not binutils is found by CMake, this option forces CMake to automatically download and build binutils as part of the APEX project.</li>
<li><strong>-DUSE_TAU=</strong>
  TRUE or <em>FALSE</em>.  TAU (Tuning and Analysis Utilities) is a performance measurement and analysis framework for large scale parallel applications. For more information see <a href="http://tau.uoregon.edu">http://tau.uoregon.edu</a>.  APEX uses TAU to generate profiles for post-mortem performance analysis. See <a href="../usecases/#tau-example">the TAU use case</a> for an example.</li>
<li><strong>-DTAU_ROOT=</strong>
  path to TAU, or set the TAU_ROOT environment variable before running cmake.</li>
<li><strong>-DTAU_ARCH=</strong>
  the TAU architecture, like x86_64, craycnl, mic_linux, bgq, etc.</li>
<li><strong>-DTAU_OPTIONS=</strong>
  a TAU configuration with thread support, like -pthread or -icpc-pthread.</li>
<li><strong>-DUSE_RCR=</strong>
  TRUE or <em>FALSE</em>.  RCR (Resource Centric Reflection) is a library for system monitoring of resources that require root access.  For more information, see <a href="http://www.renci.org/wp-content/pub/techreports/TR-10-01.pdf">http://www.renci.org/wp-content/pub/techreports/TR-10-01.pdf</a>.  APEX uses RCR to access 'uncore' counters and system health information such as power and energy counters.</li>
<li><strong>-DRCR_ROOT=</strong>
  the path to RCR, or set the RCR_ROOT environment variable.</li>
<li><strong>-DUSE_TCMALLOC=</strong>
  TRUE or <em>FALSE</em>.  TCMalloc is a heap management library distributed as part of Google perftools. For more information, see <a href="https://github.com/gperftools/gperftools">https://github.com/gperftools/gperftools</a>.  TCMalloc provides faster memory performance in multithreaded environments.</li>
<li><strong>-DGPERFTOOLS_ROOT=</strong>
  path to gperftools (TCMalloc), or set the GPERFTOOLS_ROOT environment variable before running cmake.</li>
<li><strong>-DUSE_JEMALLOC=</strong>
  TRUE or <em>FALSE</em>.  JEMalloc is a heap management library.  For more information, see <a href="http://www.canonware.com/jemalloc/">http://www.canonware.com/jemalloc/</a>.  JEMalloc provides faster memory performance in multithreaded environments.</li>
<li><strong>-DJEMALLOC_ROOT=</strong>
  path to JEMalloc, or set the JEMALLOC_ROOT environment variable before running cmake.</li>
<li><strong>-DUSE_PAPI=</strong>
  TRUE or <em>FALSE</em>.  PAPI (Performance Application Programming Interface) provides the tool designer and application engineer with a consistent interface and methodology for use of the performance counter hardware found in most major microprocessors.  For more information, see <a href="http://icl.cs.utk.edu/papi/">http://icl.cs.utk.edu/papi/</a>.  APEX uses PAPI to optionally collect hardware counters for timed events.</li>
<li><strong>-DPAPI_ROOT=</strong>
  some path to PAPI, or set the PAPI_ROOT environment variable before running cmake. See <a href="../usecases/#papi-example">the PAPI use case</a> for an example.</li>
<li><strong>-DUSE_LM_SENSORS=</strong>
  TRUE or <em>FALSE</em>. Lm_sensors (Linux Monitoring Sensors) is a library for monitoring hardware temperatures and fan speeds. For more information, see <a href="https://en.wikipedia.org/wiki/Lm_sensors">https://en.wikipedia.org/wiki/Lm_sensors</a>.  APEX uses lm_sensors to monitor hardware, where available.</li>
<li><strong>-DBUILD_EXAMPLES=</strong>
  TRUE or <em>FALSE</em>. Whether or not to build the application examples in APEX.</li>
<li><strong>-DBUILD_TESTS=</strong>
  <em>TRUE</em> or FALSE. Whether or not to build the APEX unit tests.</li>
<li><strong>-DCMAKE_C_COMPILER=</strong>
  <em>gcc</em></li>
<li><strong>-DCMAKE_CXX_COMPILER=</strong>
  <em>g++</em></li>
<li><strong>-DCMAKE_BUILD_TYPE=</strong>
  Release, <em>Debug</em>, RelWithDebInfo. Unfortunately, the cmake default (when not specified) is Debug. For faster performance, configure APEX to build RelWithDebInfo or Release.</li>
<li><strong>-DBUILD_SHARED_LIBS=</strong>
  TRUE or FALSE</li>
<li><strong>-DUSE_MPI=</strong>
  TRUE or <em>FALSE</em>. Whether to build MPI global support and related examples.</li>
<li><strong>-DMPI_C_INCLUDE_PATH=</strong>
  path to MPI headers</li>
<li><strong>-DMPI_CXX_INCLUDE_PATH=</strong>
  path to MPI headers</li>
<li><strong>-DMPI_C_LIBRARIES=</strong>
  paths to MPI libraries, library names</li>
<li><strong>-DMPI_CXX_LIBRARIES=</strong>
  paths to MPI libraries, library names</li>
<li><strong>-DMPI_C_COMPILER=</strong>
  mpicc</li>
<li><strong>-DMPI_CXX_COMPILER=</strong>
  mpicxx</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../usage/" class="btn btn-neutral float-right" title="Usage"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../feature/" class="btn btn-neutral" title="Feature Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>(C) 2016 University of Oregon, All Rights Reserved</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../feature/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../usage/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
